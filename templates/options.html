<!DOCTYPE html>
<ion-view view-title="Opciones" ng-init="getOptions()">
    <ion-refresher
        pulling-text="Pull to refresh..."
        on-refresh="getOptions()">
    </ion-refresher>
    <ion-content  overflow-scroll="true" style="background-color: #BDBDBD">
        <div style="width:100%">
            <div  style="float:right;" class="card">
                <button class="button button-dark" ng-click="add_option();" style="margin:auto">Nueva Opción</button>
                <button class="button button-dark" ng-click="loadExcel();" style="margin:auto">Cargar Excel</button>
                <button class="button button-dark" ng-click="deleteMenuOptions();" style="margin:auto">Eliminar Opciones</button>
                <a class="button button-dark" target="_self" href="https://drive.google.com/uc?export=download&id=0B9cAPRZ43D3UOHp3YUh0YzAxVFk" download="Opciones.xls" ng-click="downloadExample();" style="margin:auto">Plantilla Excel</a>
            </div>
        </div>
        <br />
        <br />
        <br />
        <br />
        <div style="width:100%">
            <div class="card" style="width: 90%;margin-left: 5%;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);" >
                <div id="loadingOption">
                    <img style="width: 25%;margin-left: 37.5%" src="images/output_SaWDgJ.gif">
                    <p style="width: 100%;text-align: center;font-weight: bold">Cargando</p>
                </div>
                <div id="contentOption" style="display: none">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Opciones
                        </div>.
                        <div class="panel-body">
                            <div class="dataTable_wrapper">
                                <table datatable="ng" class="table table-striped table-bordered table-hover" id="mainMenu">
                                    <thead>
                                        <tr>
                                            <th>Nombre de la Opción</th>
                                            <th style="width:180px !important" >Imagen</th>
                                            <th>Precio</th>
                                            <th>Parámetro</th>
                                            <th>Grupo</th>
                                            <th>Inventario</th>
                                            <th>Editar</th>
                                            <th>Eliminar</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="o in options" class="odd gradeX">
                                            <td id='optionName{{o.cod_option}}'>{{o.option_name}}</td>
                                            <td id="optionImg{{o.cod_option}}">
                                                <div class="container image">
                                                    <img style="width:150px" ng-click="set_option_image(o.cod_option);"  src="img/{{o.option_img}}" alt="Agregar Imagen"/>
                                                    <div class="overlay">
                                                        <div ng-click="set_option_image(o.cod_option);" class="text">Actualizar Imagen</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td id='optionPrice{{o.cod_option}}'>{{o.option_price}}</td>
                                            <td id='optionParams{{o.cod_option}}'>
                                              <center>
                                                <div style="width:100%; margin: 0; padding: 0" class="container">
                                                  <p ng-if="o.params.param1" style="text-align: center; font-size: 13px; font-weight: 300">{{o.params.param1}}</p>
                                                  <p ng-if="o.params.param2" style="text-align: center; font-size: 13px; font-weight: 300">{{o.params.param2}}</p>
                                                  <div class="overlay">
                                                      <div ng-click="set_params(o);" class="text">Editar</div>
                                                  </div>
                                                </div>
                                                <!-- <div>{{o.params.param1}}</div><br/>  
                                                <div>{{o.params.param2}}</div> -->
                                              </center>
                                            </td>
                                            <td id='optionGroup{{o.cod_option}}'>{{o.group}}</td>
                                            <td id='optionStock{{o.cod_option}}'>{{o.option_stock}}</td>
                                            <td><button class="button button-dark" ng-click="updateOptions({{o.cod_option}})"><i class="ion-edit"></i></button></td>
                                            <td><button class="button button-assertive" ng-click="deleteOptions({{o.cod_option}})"><i class="ion-close"></i></button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<style>
    .container {
        position: relative;
        width: 100%;
    }

    .image {
        display: block;
        width: 100%;
        height: auto;
    }

    .overlay {
        position: absolute;
        bottom: 0;
        left: 100%;
        right: 0;
        background-color: #6495ED;
        overflow: hidden;
        width: 0;
        height: 100%;
        transition: .5s ease;
    }

    .container:hover .overlay {
        width: 100%;
        left: 0;
    }

    .text {
        white-space: nowrap; 
        color: white;
        font-size: 20px;
        position: absolute;
        overflow: hidden;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
    }

    img:after { 
      content: "\f1c5" " " attr(alt);
      
      font-size: 16px;
      font-family: FontAwesome;
      color: rgb(100, 100, 100);
      
      display: block;
      position: absolute;
      z-index: 2;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #fff;
    }
</style>


    </ion-content>
</ion-view>


